<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Tsogolani Investment & Estate Agents</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
<style>
body { font-family: Arial, sans-serif; margin:0; background:#f5f5f5; }
header { background:#003366; color:white; padding:20px; display:flex; align-items:center; justify-content:space-between; }
header .logo-container { display:flex; align-items:center; gap:10px; }
header .logo { height:50px; }
nav a { color:white; margin:0 10px; text-decoration:none; font-weight:bold; }
nav a.active { text-decoration: underline; }
.hero { width:100%; height:500px; position:relative; margin-bottom:40px; }
.swiper { width:100%; height:100%; }
.swiper-slide { position:relative; text-align:center; color:white; display:flex; justify-content:center; align-items:center; font-size:2rem; background-size:cover; background-position:center; }
.hero-btn { position:absolute; bottom:50px; left:50%; transform:translateX(-50%); padding:15px 30px; background:#003366; color:white; text-decoration:none; font-weight:bold; border-radius:8px; transition:0.3s; }
.hero-btn:hover { background:#0055aa; }
.news-section { padding:40px 5%; }
.news-section h2 { text-align:center; color:#003366; margin-bottom:30px; }
.news-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:20px; justify-items:center; }
.news-card { background:#fff; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.1); padding:20px; width:100%; max-width:400px; text-align:center; transition: transform 0.3s, box-shadow 0.3s; }
.news-card:hover { transform:translateY(-5px); box-shadow:0 8px 20px rgba(0,0,0,0.15); }
.news-card img, .news-card video { width:100%; height:200px; object-fit:cover; border-radius:12px; margin:10px 0; }
.full-news { text-align:left; margin-top:10px; display:none; }
.full-news img, .full-news video { width:100%; height:auto; margin:10px 0; border-radius:12px; }
.features { display:flex; justify-content:space-around; text-align:center; padding:40px 5%; gap:20px; }
.features div { background:white; padding:20px; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.1); flex:1; }
footer { background:#003366; color:white; text-align:center; padding:20px; margin-top:40px; }
.see-more-btn { padding:10px 20px; background:#003366; color:white; border:none; border-radius:8px; cursor:pointer; margin-top:10px; }
.see-more-btn:hover { background:#0055aa; }
</style>
</head>
<body>

<header>
<div class="logo-container">
<img src="assets/images/logo.png" alt="Logo" class="logo">
<h1>Tsogolani Investment & Estate Agents</h1>
</div>
<nav>
<a href="index.html" class="active">Home</a>
<a href="about.html">About Us</a>
<a href="services.html">Services</a>
<a href="projects.html">Projects</a>
<a href="contact.html">Contact Us</a>
</nav>
</header>

<section class="hero">
<div class="swiper hero-swiper">
<div class="swiper-wrapper">
<div class="swiper-slide" style="background-image:url('assets/images/office.jpg');">
<a href="services.html" class="hero-btn">Explore Services</a>
</div>
<div class="swiper-slide" style="background-image:url('assets/images/hero.png');">
<a href="services.html" class="hero-btn">Explore Services</a>
</div>
<div class="swiper-slide" style="background-image:url('assets/images/residential.jpg');">
<a href="services.html" class="hero-btn">Explore Services</a>
</div>
</div>
<div class="swiper-pagination"></div>
<div class="swiper-button-next"></div>
<div class="swiper-button-prev"></div>
</div>
</section>

<section class="news-section">
<h2>Latest News & Events</h2>
<div class="news-grid" id="news-grid"></div>
</section>

<section class="features">
<div>
<h3>Construction</h3>
<p>Residential, commercial, and civil works done with quality and precision.</p>
</div>
<div>
<h3>Estate Agency</h3>
<p>Property sales, rentals, valuations, and land acquisition support.</p>
</div>
<div>
<h3>Investment</h3>
<p>Property investment advisory and strategic portfolio management.</p>
</div>
</section>

<footer>
<p>üìû +265 999 952 722 | +265 993 523 172</p>
<p>üìç 123 Tsogalani Street, Lilongwe, Malawi</p>
<p>‚úâÔ∏è tsogolaniestateagent@gmail.com</p>
<p>&copy; 2025 Tsogolani Investment & Estate Agents</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
// Hero swiper
const swiper = new Swiper('.hero-swiper', {
loop:true,
autoplay:{ delay:4000, disableOnInteraction:false },
pagination:{ el:'.swiper-pagination', clickable:true },
navigation:{ nextEl:'.swiper-button-next', prevEl:'.swiper-button-prev' },
effect:'fade',
fadeEffect:{ crossFade:true }
});

// Load news
async function loadNews(){
try{
const res = await fetch('/api/news');
const news = await res.json();
const grid = document.getElementById('news-grid');
grid.innerHTML='';
news.forEach((item)=>{
    const card = document.createElement('div');
    card.className='news-card';
    card.innerHTML=`
        <h3>${item.title}</h3>
        <img src="${item.images[0] || 'assets/images/placeholder.jpg'}" alt="${item.title}">
        <p>${item.desc.substring(0,100)}${item.desc.length>100?'...':''}</p>
        <button class="see-more-btn">See More</button>
        <div class="full-news">
            <p>${item.desc}</p>
            ${item.images.map(img=>`<img src="${img}" alt="">`).join('')}
            ${item.videos.map(v=>`<video controls><source src="${v}" type="video/mp4"></video>`).join('')}
        </div>
    `;
    grid.appendChild(card);
    const btn = card.querySelector('.see-more-btn');
    const full = card.querySelector('.full-news');
    btn.addEventListener('click',()=>{
        if(full.style.display==='none'||full.style.display===''){
            full.style.display='block';
            btn.textContent='See Less';
        }else{
            full.style.display='none';
            btn.textContent='See More';
        }
    });
});
}catch(e){ console.error(e); }
}
loadNews();
</script>

</body>
</html>
